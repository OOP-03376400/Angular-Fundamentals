<section
  class="container"
  *ngIf="course">

  <!-- Course Info -->
  <app-course-info-listing
    [course]="course"
    [trainers]="trainers"
    [isEnrolled$]="isEnrolled$"></app-course-info-listing>

  <!-- Course Enrollement Buttons -->
  <section>
    <ng-container *ngIf="isEnrolled$ | async; else notEnrolledTemplate">
      <!-- Cancel enrollment btn -->
      <button
        *ngIf="isEnrolled$ | async"
        class="btn btn-outline-danger btn-block btn-lg enrollment-btn"
        (click)="cancelEnrollment()">
        Cancel course enrollment
      </button>
    </ng-container>
    <ng-template #notEnrolledTemplate>
      <!-- Enroll btn -->
      <button
        class="btn btn-outline-info btn-block btn-lg enrollment-btn"
        (click)="enroll()">
        Enroll in course
      </button>
    </ng-template>
  </section>

  <!-- Course Feedbacks -->
  <section id="course-feedbacks">
    <h3>
      Feedbacks
      <!-- Add Feedback Button -->
      <app-feedback-add-button
        [courseId]="course.id"
        [isEnrolled$]="isEnrolled$"></app-feedback-add-button>
    </h3>
    <!-- Feedbacks -->
    <app-course-feedbacks-all [feedbacks]="feedbacks"></app-course-feedbacks-all>
  </section>

  <hr>

  <!-- Admins Only -->
  <!-- Course Administration -->
  <app-course-administration [courseId]="course.id"></app-course-administration>
</section>
