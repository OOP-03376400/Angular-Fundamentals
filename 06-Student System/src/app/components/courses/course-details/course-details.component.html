<div class="container">
  <div *ngIf="course">

    <!-- Course -->
    <section class="card">
      <div class="card-header">Start Date: {{course.startDate}}</div>
      <div class="card-body">
        <h1 class="card-title">
          {{course.name}}
          <ng-container *ngIf="!(isEnrolled$ | async); else isEnrolledTemplate">
            <button
              class="btn btn-outline-info"
              (click)="enroll()">
              Enroll in Course
            </button>
          </ng-container>
          <ng-template #isEnrolledTemplate>
            <button
              class="btn btn-outline-danger"
              (click)="cancelEnrollment()">
              Cancel Course Enrollment
            </button>
          </ng-template>

        </h1>
        <h3>Course description</h3>
        <p class="card-text lead">{{course.description}}</p>

        <h3>Trainers</h3>
        <ul *ngIf="trainers">
          <li *ngFor="let trainer of trainers">
            {{trainer.name}}
            <a href="mailto:{{trainer.email}}">{{trainer.email}}</a>
          </li>
        </ul>
        <div></div>
      </div>
      <div class="card-footer">End Date: {{course.endDate}}</div>
    </section>

    <!-- Admin Panel -->
    <section *ngIf="authService.isAdmin()">
      <div class="card-body">
        <h3>Course Administration</h3>
        <div
          class="btn-group btn-group"
          role="group">
          <button
            class="btn btn-outline-warning"
            routerLink="/courses/edit/{{course.id}}">
            Edit
          </button>
          <button
            class="btn btn-outline-danger"
            (click)="delete()">
            Delete
          </button>
        </div>
      </div>
    </section>

  </div>
</div>
